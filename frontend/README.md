# node版 运营管理系统 frontend

# 功能描述

> 普通的 增 删 改 查

# 1 系统管理  
## 1.1 系统菜单  

> * 为菜单添加 功能(功能可以在系统配置里添加，配合页面的埋点，实现功能权限的管理)  
> * 自定义菜单排序  
> * 菜单有上下级关系，且不限制菜单级数  
> * 菜单查询 会把满足条件的菜单及其父级菜单查询出来，以明确归属关系

## 1.2 系统配置

> 配置分为三类：普通，数据权限，功能权限  
>	* 普通： 不在权限控制系统内，为系统中一些普通配置项  
>	* 功能权限： 配合 系统菜单 实现不同角色用户，可操作不同页面功能； 如：部分用户不能删除某个记录，不能上架活动等  
>	* 数据权限：与业务相关，如活动，合同：系统可以为多个业务线(多个域名)使用，不同的数据权限，会看不到不同业务数据的内容。  
>	          同时提供扩展属性的配置：包括数据统计配置，app下载配置，oss环境配置  

## 1.3 组织架构 

### 1.3.1 部门管理  
> 为用户提供分组管理功能：  
> * 有部门管理权限的普通用户，只可以管理本部门及子部门数据，其他部门只有查看权限  
> * 父部门 `停用` 时，在部门列表里不会影响子部门，但在添加用户时，看不到`已停用`的部门及子部门  
> * 部门查询  会把满足条件的部门及其父级部门查询出来，以明确归属关系


### 1.3.2 角色管理 
> 角色将`用户`与`权限`关联起来  
> * 可以为角色配置 菜单权限，菜单的功能权限，系统的数据权限  
> * 同一用户可以有多个不用的角色  
> * 用户拥有的权限为所有角色的 并集  
> * 当前用户编辑自己所属于角色的权限时，会强制退出，要求重新登录，以使权限生效 *所以在给角色分配`角色管理`菜单及功能权限的时候，需要的特别注意*  

### 1.3.3 用户管理
> 使用系统的用户，集合了  部门  角色  权限  于一身  
> * 超级管理员： 
> 	* 不属于任何部门，不具备任何角色，但拥有系统的所有权限  
> 	* 在后台配置文件中配置决定  
> 	* 可以管理其他超级用户，甚至删除其他超级用户  
> 	* 不可以删除自己  
> * 普通用户： 拥有用户管理菜单权限  
> 	* 可以看到所有用户  
> 	* 只能修改其所部门及子部门的用户数据  

## 1.4 日志管理
> 查询用户在系统的行为日志，包含当前操作的具体数据内容  

# 2 活动管理

## 2.1 活动组件
> 以`zip`包的形式上传到系统，zip 由 [activity-tpl](git@git.iqianjindai.com:qjd-h5/activity-tpl.git) 项目生成  

## 2.2 活动列表
> 活动预览 上下架， 超级管理员 可以恢复或彻底删除 `已删除`的活动。  
> * 新增、编辑活动：  
> 	* 活动标准尺寸为`750px`设计稿，组件中涉及到的尺寸值均以`设计稿实际尺寸`填写即可  
> 	* 可以随意选择已支持的组件，组件会浮动在页面顶部  
> 	* 活动以所见即所得的形式呈现，不包含活动交互部分  
> 	* 可以发布到当前用户所拥有的任何一条业务线(系统配置里添加，角色权限分配中给权限)上，没权限的业务会置灰不可使用  
> 	* 本地开发环境，活动只会发布到本地，上架时，会把活动拷贝到开发环境(开发OSS配置)  
> 	* 其它环境，会优先发布到测试环境(测试oss配置)， 上架时，再把活动拷贝到线上环境(线上oss)  
> 	* 不同业务线会单独配置各个环境的 oss  
> * 存草稿：  
> 	* 不会把活动数据与活动组件模板组合，静态化html页面，只会保存活动的json数据   
> 	* 上传的图片，未发布前会存在临时目录，长时间未发布的活动，图片数据可能丢失, 发布成功后，会存储在服务器的活动目录，一般不会丢失  
> * 查JSON:  
> 	* 为 [activity-tpl](git@git.iqianjindai.com:qjd-h5/activity-tpl.git)项目提供mock 数据，以供开发活动组件模板  

# 3 合同管理

## 3.1 合同类型  
> * 提供合同的类型管理，类型以业务线为主要区分条件  
> * 类型有上下级关系，且不限制级数  
> * 父级类型`停用`不影响子级类型状态，在类型列表页可查看全部类型  
> * 在添加编辑合同时，不会显示`已停用`的合同类型  
> * 查询 会把满足条件的类型及其父级全部查询出来，以明确归属关系  

## 3.2 合同列表  
> * 展示所有用户已有业务权限的合同  
> * 可以预览，上下架，下载合同内容  
> * 预览查看合同展示效果  
> * 上架  把合同文件由测试环境(测试oss)拷贝到生产环境(生产oss)  
> * 下架  只删除生产环境(生产oss)的合同文件  
> * 删除  删除测试环境(测试oss)及服务器合同目录及数据库内数据  
> * 下载  支持 `vm` `html` 格式文件下载，文件来源为服务器合同目录  
> * 新增  
> 	* 富文件编辑框，可直接把word内容粘贴进去，过程中会保持 文档中的加粗、下划线、表格等结构  
> 	* 部分结构需要重新手动排列：如对齐方式，列表序列号等  
> * 保存合同  
> 	* 本地开发环境，文件只会保存到本地目录，及数据库  
> 	* 服务器环境, 文件会保存到服务器，上传测试环境(测试oss), 及数据库，上架时再上传生产环境(生产oss)  

# frontend 系统结构






## Project setup
```
npm install
```

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

### Lints and fixes files
```
npm run lint
```
